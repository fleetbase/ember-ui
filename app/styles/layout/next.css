/** Misc **/
.next-content-overlay .new-order-overlay-body {
    @apply px-4 pt-4 space-y-4;
}

.next-content-overlay .new-order-overlay-body .input-group {
    @apply mb-0;
}

.next-content-overlay .new-service-rate-overlay-body .input-group:last-child {
    @apply mb-0;
}

/** Next/Mobile Navbar **/
.next-mobile-navbar {
    @apply flex h-16 bg-white border-t border-gray-200 flex-shrink-0;
    z-index: 999;

    & .next-mobile-navbar-tabs {
        @apply flex flex-row w-full relative;

        & > .scrollable-nav-items {
            @apply flex flex-row items-center w-full overflow-x-scroll flex-shrink-0;
            width: calc(100% - 5rem);
        }

        & > .scrollable-nav-items > .next-mobile-navbar-tab-item,
        & > .next-mobile-navbar-tab-item {
            @apply flex flex-col items-center justify-center border-r border-gray-200 px-2 w-20 flex-shrink-0;
            height: 100%;

            &.menu-toggle {
                @apply shadow-next-nav absolute right-0 top-0 bottom-0 border-l border-gray-300 bg-white;
            }

            & span {
                @apply text-xs text-gray-800 mt-1.5 truncate block;
            }

            &:last-child {
                @apply border-r-0;
            }
        }
    }
}

body[data-theme='dark'] {
    & .next-mobile-navbar {
        @apply bg-gray-900 border-gray-700;

        & .next-mobile-navbar-tabs > .scrollable-nav-items > .next-mobile-navbar-tab-item,
        & .next-mobile-navbar-tabs > .next-mobile-navbar-tab-item {
            @apply border-gray-700;

            &.menu-toggle {
                @apply border-gray-800 bg-gray-900;
            }

            & span {
                @apply text-gray-100;
            }
        }
    }
}

/** Next/App Container **/
.fleetbase-next-container {
    @apply text-gray-800 flex flex-col bg-white border-t-0;
    overflow: hidden;
    width: 100%;
    height: 100%;
    min-height: 100%;
    -webkit-box-align: stretch;
    align-items: stretch;
    border-top: none;
}

body[data-theme='dark'] .fleetbase-next-container {
    background-color: rgb(31, 32, 35);
    color: rgb(247, 248, 248);
}

/** 
 * Next/Overlay
 * Overylay Content Panel Body
 */
.next-content-overlay {
    @apply absolute inset-0 opacity-0 transition duration-300 ease-in-out pointer-events-auto bg-gray-900 bg-opacity-50;
    width: 100%;
    height: 100%;
    z-index: 800;

    &.is-open {
        @apply opacity-100;
    }

    &.maximized > .next-content-overlay-panel-container > .next-content-overlay-panel {
        @apply shadow-none;
    }

    &.minimized > .next-content-overlay-panel-container {
        @apply bg-transparent pointer-events-none;
        
        & > .gutter {
            @apply hidden;
        }

        & > .next-content-overlay-panel {
            @apply bg-transparent shadow-none border-none;

            & > .next-content-overlay-panel-header {
                @apply bg-white h-60 rounded-tl-md rounded-bl-md flex-col px-1 border-t border-l border-r border-gray-200 shadow-md justify-start items-start pointer-events-auto;
                transform: translateY(50px);

                & > .next-view-header-left {
                    @apply flex-col flex-1 pt-2 pl-1.5;

                    & > div {
                        height: 100%;

                        & > div:first-child {
                            height: 100%;

                            & > div {
                                @apply hidden;
                            }
                        }

                        & > div:not(:first-child) {
                            @apply hidden;
                        }
                    }

                    & .next-content-overlay-panel-title {
                        @apply text-right flex flex-col flex-1;
                        writing-mode: vertical-rl;
                        transform: rotate(180deg);
                    }

                    & div[class='flex'] {
                        flex-direction: column;
                    }
                }

                & > .next-view-header-right {
                    @apply flex-col items-center justify-evenly pl-1;

                    & > *:not([type='button']) {
                        @apply hidden;
                    }

                    & > [type='button'] {
                        @apply m-0 w-7 h-7;
                    }
                }
            }

            & > .next-content-overlay-panel-body {
                filter: blur(1px);
                @apply hidden;
            }
        }
    }

    &.no-backdrop {
        @apply bg-transparent pointer-events-none;

        & > * {
            @apply pointer-events-auto;
        }
    }

    &.outview {
        pointer-events: none;
        opacity: 0;

        &.next-content-overlay-pos-right > .next-content-overlay-panel-container {
            transform: translateX(100%);
            pointer-events: none;
            opacity: 0;
        }

        &.next-content-overlay-pos-left > .next-content-overlay-panel-container {
            transform: translateX(-100%);
            pointer-events: none;
            opacity: 0;
        }

        &.next-content-overlay-pos-top > .next-content-overlay-panel-container {
            transform: translateY(-100%);
            pointer-events: none;
            opacity: 0;
        }

        &.next-content-overlay-pos-bottom > .next-content-overlay-panel-container {
            transform: translateY(100%);
            pointer-events: none;
            opacity: 0;
        }
    }

    &.full-height > .next-content-overlay-panel-container > .next-content-overlay-panel {
        height: 100%;

        & > .next-content-overlay-panel-body {
            height: 100%;

            & > .next-content-overlay-panel-body-inner-wrapper {
                height: 100%;
                box-sizing: border-box;

                & > div {
                    box-sizing: border-box;
                }
            }
        }
    }

    &.next-content-overlay-pos-right > .next-content-overlay-panel-container {
        @apply right-0 bottom-0 top-0;
        transform: translateX(100%);

        & .next-content-overlay-panel {
            width: 668px;
        }
    }

    &.next-content-overlay-pos-left > .next-content-overlay-panel-container {
        @apply left-0 bottom-0 top-0;
        transform: translateX(-100%);

        & .next-content-overlay-panel {
            width: 668px;
        }
    }

    &.next-content-overlay-pos-top > .next-content-overlay-panel-container {
        @apply top-0 left-0 right-0;
        transform: translateY(100%);

        & .next-content-overlay-panel {
            height: 448px;
        }
    }

    &.next-content-overlay-pos-bottom > .next-content-overlay-panel-container {
        @apply bottom-0 left-0 right-0;
        transform: translateY(-100%);

        & .next-content-overlay-panel {
            height: 448px;
        }
    }

    &.is-open > .next-content-overlay-panel-container {
        transform: translate(0);
    }

    & > .next-content-overlay-panel-container {
        @apply absolute transform transition ease-in-out duration-500 pointer-events-auto;
    }

    & > .next-content-overlay-panel-container > .next-content-overlay-panel {
        @apply transform transition ease-in-out duration-500 pointer-events-auto bg-white shadow-next-nav;
    }

    & > .next-content-overlay-panel-container > .next-content-overlay-panel .next-content-overlay-panel-cancel-button {
        @apply rounded-full flex items-center justify-center w-7 h-7 bg-gray-100 ml-2;

        &:hover {
            @apply bg-gray-200;
        }
    }

    & > .next-content-overlay-panel-container > .next-content-overlay-panel .next-content-overlay-panel-maximize-button,
    & > .next-content-overlay-panel-container > .next-content-overlay-panel .next-content-overlay-panel-minimize-button {
        @apply rounded-lg flex items-center justify-center w-8 h-7 bg-gray-100 ml-2;

        &:hover {
            @apply bg-gray-200;
        }
    }

    & > .next-content-overlay-panel-container > .next-content-overlay-panel .next-content-overlay-panel-header {
        @apply px-4 flex items-center justify-between flex-shrink-0 min-w-full max-w-full border-b border-gray-200;
        box-align: center;
        height: 57px;
    }

    & > .next-content-overlay-panel-container > .next-content-overlay-panel .next-content-overlay-panel-header .next-content-overlay-panel-title {
        @apply text-base truncate;
    }

    & > .next-content-overlay-panel-container > .next-content-overlay-panel .next-content-overlay-panel-header .next-view-header-left {
        flex: 1;
        display: flex;
        box-align: center;
        align-items: center;
    }

    & > .next-content-overlay-panel-container > .next-content-overlay-panel .next-content-overlay-panel-header .next-view-header-right {
        flex: 1;
        display: flex;
        box-align: center;
        align-items: center;
        justify-content: flex-end;
    }

    & > .next-content-overlay-panel-container > .next-content-overlay-panel .next-content-overlay-panel-header .ember-basic-dropdown-trigger {
        @apply flex;

        & button.btn {
            height: 30px;
        }
    }

    & > .next-content-overlay-panel-container > .next-content-overlay-panel .next-content-overlay-panel-header .next-view-header-right button.btn {
        padding-top: 0.375rem !important;
        padding-bottom: 0.375rem !important;
    }

    & > .next-content-overlay-panel-container > .next-content-overlay-panel .next-content-overlay-panel-body {
        @apply overflow-y-scroll px-1;
    }
}

/** Next/Overlay (Dark Mode) **/
body[data-theme='dark'] .next-content-overlay {
    display: flex;
    height: 100%;

    &.minimized > .next-content-overlay-panel-container > .next-content-overlay-panel {
        @apply bg-transparent shadow-none border-none;

        & > .next-content-overlay-panel-header {
            @apply bg-gray-900 border-t border-l border-r border-gray-700;
        }
    }

    & > .next-content-overlay-panel-container > .next-content-overlay-panel {
        @apply bg-gray-900;
    }

    & > .next-content-overlay-panel-container > .next-content-overlay-panel .next-content-overlay-panel-cancel-button {
        @apply bg-gray-700;

        &:hover {
            @apply bg-gray-500;
        }
    }

    & > .next-content-overlay-panel-container > .next-content-overlay-panel .next-content-overlay-panel-maximize-button,
    & > .next-content-overlay-panel-container > .next-content-overlay-panel .next-content-overlay-panel-minimize-button {
        @apply bg-gray-700;

        &:hover {
            @apply bg-gray-500;
        }
    }

    & > .next-content-overlay-panel-container > .next-content-overlay-panel .next-content-overlay-panel-header {
        @apply border-gray-700;
    }
}

/** Next/Leaflet Container Map **/
.next-leaflet-container-map {
    width: 100%;
    height: 100%;
    min-width: 100%;
    min-height: 100%;
}

.next-map-container .leaflet-top {
    @apply top-11;
}

.next-map-container .leaflet-popup .leaflet-popup-tip-container {
    @apply hidden;
}

.next-map-container .leaflet-popup-content-wrapper {
    @apply rounded-md bg-gray-900 text-gray-100 shadow-next-nav border border-gray-900;
}

.next-map-container .leaflet-tooltip {
    @apply rounded-md bg-gray-900 text-gray-100 shadow-next-nav border border-gray-900 px-6;

    &.leaflet-tooltip-right:before {
        border: 0;
    }

    &.leaflet-tooltip-left:before {
        border: 0;
    }
}

/** Next/Leaflet Context Menu **/
.leaflet-contextmenu {
    @apply w-64;
}

.next-map-container > .next-leaflet-container-map > .leaflet-contextmenu > a.leaflet-contextmenu-item {
    @apply text-gray-900 truncate;
}

/** Next/Leaflet Context Menu -- Dark Mode **/
.next-map-container {
    display: flex;
    flex-shrink: initial;
    flex-basis: initial;
    flex-direction: row;
    -webkit-box-flex: 1;
    flex-grow: 1;
    position: relative;
    overflow: auto;
    -webkit-box-align: stretch;
    place-items: stretch;
    overflow: hidden;
    width: 100%;
    height: 100%;
    min-width: 100%;
    min-height: 100%;

    & .ember-basic-dropdown-content {
        z-index: 600;
    }

    & .next-content-overlay-z1 {
        z-index: 700;
    }

    & .next-content-overlay-z2 {
        z-index: 750;
    }

    & .next-content-overlay-z3 {
        z-index: 800;
    }

    & .next-content-overlay-z4 {
        z-index: 850;
    }

    & .next-content-overlay-z5 {
        z-index: 900;
    }

    & .next-content-overlay-z6 {
        z-index: 950;
    }
}

/** Next MapContainer - TopBar **/
.next-map-container-topbar {
    @apply absolute top-0 left-0 right-0 bg-gray-900 w-full flex h-10 border-b border-gray-700 px-3 shadow-next-nav;
    z-index: 700;

    &.next-topbar-table {
        @apply shadow-none relative;
    }
}

body[data-theme='light'] {
    & .next-map-container-topbar {
        @apply bg-white border-gray-200 shadow-none;
    }
}

/** draw controls within next/map-container **/
.next-map-container.next-map-container-layout-map .leaflet-draw > .leaflet-draw-section {
    @apply relative;

    & > .leaflet-draw-toolbar {
        @apply bg-white rounded-full flex flex-col items-center justify-center shadow-next-nav border-0;
        padding: 0.313rem;

        & > a {
            @apply flex items-center justify-center rounded-full w-8 h-8 m-auto mb-2 border-b-0 bg-white;

            &:hover {
                @apply bg-gray-200;
            }

            &:last-child {
                @apply mb-0;
            }
        }
    }

    & .leaflet-draw-actions {
        @apply mr-4;

        & li a {
            @apply bg-white border-gray-200;

            &:hover {
                @apply bg-gray-100;
            }
        }

        & li:first-child a {
            @apply rounded-l-md;
        }

        & li:last-child a {
            @apply rounded-r-md;
        }
    }
}

body[data-theme='dark'] {
    & .next-map-container.next-map-container-layout-map .leaflet-draw > .leaflet-draw-section {
        & > .leaflet-draw-toolbar {
            @apply bg-gray-900;

            & > a {
                @apply bg-gray-900;
                background-image: linear-gradient(transparent, transparent), url(../images/drawing-controls-spritesheet-inverted.png);

                &:hover {
                    @apply bg-gray-700;
                }
            }
        }

        & .leaflet-draw-actions {
            & li a {
                @apply bg-gray-900 border-gray-700;

                &:hover {
                    @apply bg-gray-800;
                }
            }
        }
    }
}

.next-map-container.next-map-container-layout-map .next-map-container-toolbar-container {
    @apply w-10 absolute top-11 left-0 ml-3 mt-3 flex flex-col justify-center;
    z-index: 600;

    &.toolbar-container-horizontal {
        @apply left-0 right-0 ml-0 mx-0 mt-0 mb-3 flex-row items-center justify-center w-full;

        top: unset;
        bottom: unset;

        &.position-bottom {
            @apply bottom-0;
        }

        &.position-top {
            @apply top-0;
        }

        & .next-map-container-toolbar-drivers-panel,
        & .next-map-container-toolbar-panel {
            @apply mb-0 flex-row;

            & .next-map-container-toolbar-drivers {
                @apply flex flex-row;

                & > div {
                    @apply mr-3;
                }

                & > div:last-child {
                    @apply mr-0;
                }
            }
        }

        & .toolbar-button {
            @apply mb-0;
        }
    }

    & .next-map-container-toolbar-zoom-control > div:last-child .toolbar-button,
    & .next-map-container-toolbar-drivers > div:last-child .toolbar-button,
    & .next-map-container-toolbar-actions > div:last-child .toolbar-button {
        @apply mb-0;
    }

    & .toolbar-button {
        @apply flex items-center justify-center rounded-full w-8 h-8 m-auto mb-2;

        &.is-action:hover {
            @apply bg-blue-500;
        }

        &:focus,
        &:active,
        &:hover {
            @apply outline-none;
        }

        &:hover {
            @apply bg-gray-600;
        }
    }
}

body[data-theme='light'] {
    & .next-map-container.next-map-container-layout-map .next-map-container-toolbar-container {
        & .toolbar-button {
            & svg {
                @apply text-gray-800;
            }

            &.is-action:hover {
                @apply bg-blue-500;

                & svg {
                    @apply text-white;
                }
            }

            &:hover {
                @apply bg-gray-200;
            }
        }
    }
}

.next-map-container.next-map-container-layout-map .next-map-container-toolbar-container .next-map-container-toolbar-zoom-control,
.next-map-container.next-map-container-layout-map .next-map-container-toolbar-container .next-map-container-toolbar-drivers-panel,
.next-map-container.next-map-container-layout-map .next-map-container-toolbar-container .next-map-container-toolbar-panel,
.next-map-container.next-map-container-layout-map .next-map-container-toolbar-container .next-map-container-toolbar-actions {
    @apply bg-white rounded-full mb-3 flex flex-col items-center justify-center p-1 shadow-next-nav;
}

body[data-theme='dark'] {
    & .next-map-container.next-map-container-layout-map .next-map-container-toolbar-container .next-map-container-toolbar-zoom-control,
    & .next-map-container.next-map-container-layout-map .next-map-container-toolbar-container .next-map-container-toolbar-drivers-panel,
    & .next-map-container.next-map-container-layout-map .next-map-container-toolbar-container .next-map-container-toolbar-panel,
    & .next-map-container.next-map-container-layout-map .next-map-container-toolbar-container .next-map-container-toolbar-actions {
        @apply bg-gray-900;
    }
}

.next-map-container.next-map-container-layout-map .next-map-container-toolbar-container:hover {
    @apply opacity-100;
}

.next-map-container.next-map-container-layout-map .next-map-container-table-container {
    @apply transition-all duration-300 opacity-0;
}

/** Next/Map Container Search **/
.next-map-search-bar-container {
    @apply absolute top-11 left-0 ml-20 mt-3 flex flex-col transition-all duration-300 opacity-0;
    z-index: 600;

    &.is-visible {
        @apply opacity-100;
    }

    & .next-map-search-bar {
        @apply rounded-xl bg-white flex items-center justify-center w-70 shadow-next-nav;

        & > input {
            @apply flex-1 bg-transparent m-0 p-0 text-gray-800 px-4 py-2;
        }
    }

    & .next-map-search-results {
        @apply mt-2 rounded-xl bg-white flex items-center justify-center w-96 shadow-next-nav py-3 transition-all duration-300 opacity-0;

        &.has-results {
            @apply opacity-100;
        }

        & .next-map-search-result {
            @apply w-full border-b border-gray-200 py-3;

            &:hover {
                @apply bg-gray-50;
            }

            &:last-child {
                @apply border-b-0;
            }

            & .order-route-list {
                &:before {
                    margin-left: 0.5rem;
                    top: 0;
                    height: 100%;
                }

                & .order-route-stop {
                    background-color: unset;
                    padding-left: 0px;
                    padding-top: 0px;
                    padding-bottom: 0px;
                    margin-bottom: 0.375rem;

                    & .order-route-stop-index .index-count {
                        @apply h-4 w-4;
                    }

                    & .order-route-location {
                        @apply text-xs;
                    }
                }
            }
        }
    }
}

body[data-theme='dark'] {
    & .next-map-search-bar-container {
        & .next-map-search-bar {
            @apply bg-gray-900;

            & > input {
                @apply text-gray-100;
            }
        }

        & .next-map-search-results {
            @apply bg-gray-900;

            & .next-map-search-result {
                @apply border-gray-800;

                &:hover {
                    @apply bg-gray-800;
                }
            }
        }
    }
}

/** Next/ Map Container Orders Panel **/
.next-content-overlay-panel.orders-panel .orders-panel-fleets .next-content-panel-container {
    @apply mt-2;
}

.next-content-overlay-panel.orders-panel .icon-container {
    @apply w-5;
}

.next-content-overlay-panel.orders-panel .orders-panel-fleets .next-content-panel-container .next-content-panel-toggle {
    @apply border-none text-gray-800 block;
}

.next-content-overlay-panel.orders-panel .orders-panel-fleets .next-content-panel-container .next-content-panel-toggle.next-orders-driver-header {
    @apply pl-14 flex;
}

.next-content-overlay-panel.orders-panel .orders-panel-fleets .next-content-panel-container .next-content-panel-toggle.next-content-panel-header {
    @apply bg-white rounded-none;
}

.next-content-overlay-panel.orders-panel .orders-panel-fleets .next-content-panel-container .next-content-panel-body {
    @apply border-none;
}

.next-content-overlay.next-content-overlay-pos-right > .next-content-overlay-panel-container {
    @apply flex-row-reverse;
}

.next-content-overlay > .next-content-overlay-panel-container {
    @apply flex;
}

.next-content-overlay > .next-content-overlay-panel-container > .next-content-overlay-panel.orders-panel .next-content-overlay-panel-body {
    @apply px-0;

    & .order-listings > .next-content-panel-body-inner .order-listings-row {
        @apply pl-4 py-2 pr-2;

        &.selected {
            @apply bg-blue-400;
        }

        &:hover:not(.selected) {
            @apply bg-gray-100 bg-opacity-75;
        }
    }
}

body[data-theme='dark'] {
    &
        .next-content-overlay
        > .next-content-overlay-panel-container
        > .next-content-overlay-panel.orders-panel
        .next-content-overlay-panel-body
        .order-listings
        > .next-content-panel-body-inner
        .order-listings-row {
        &.selected {
            @apply bg-blue-500 bg-opacity-75;
        }

        &:hover:not(.selected) {
            @apply bg-gray-800 bg-opacity-75;
        }
    }

    & .next-content-overlay-panel.orders-panel .orders-panel-fleets .next-content-panel-container .next-content-panel-toggle {
        @apply text-gray-100;
    }

    & .next-content-overlay-panel.orders-panel .orders-panel-fleets .next-content-panel-container .next-content-panel-toggle.next-content-panel-header {
        @apply bg-gray-900;
    }
}

/** Next/Map Container View Switch **/
.next-map-container.next-map-container-layout-table .next-map-container-view-switch {
    @apply shadow-none;
}

body[data-theme='light'] {
    & .next-map-container-toolbar > .next-map-container-view-switch > svg {
        @apply text-gray-900;
    }
}

.next-map-container-view-switch {
    @apply flex items-center;
    height: 100%;
    z-index: 600;
}

.next-map-container-view-switch:hover {
    @apply opacity-100;
}

.next-map-container-view-switch > button > .status-badge {
    top: 0;
    bottom: 0;
    right: 0;
}

.next-map-container-table-container {
    @apply bg-white opacity-100 relative;
    width: 100%;
    height: 100%;
    z-index: 500;
}

body[data-theme='dark'] {
    & .next-map-container-table-container {
        @apply bg-gray-900;
    }
}

.next-map-container-view-switch > button {
    @apply bg-gray-200 text-gray-900 rounded-xl m-1 outline-none text-sm px-6 py-0.5;

    &:hover,
    &:focus,
    &:active {
        @apply outline-none;
    }

    &.active {
        @apply bg-blue-500 text-white font-semibold;
    }
}

body[data-theme='dark'] {
    & .next-map-container-view-switch > button {
        @apply bg-gray-700 text-white;

        &:hover,
        &:focus,
        &:active {
            @apply outline-none;
        }

        &.active {
            @apply bg-blue-500 text-white font-semibold;
        }
    }
}

/** Next/View Container **/
.next-view-container {
    display: flex;
    flex-shrink: initial;
    flex-basis: initial;
    flex-direction: row;
    -webkit-box-flex: 1;
    flex-grow: 1;
    position: relative;
    overflow: auto;
    -webkit-box-align: stretch;
    place-items: stretch;
    overflow: hidden;
}

.next-view-section-container {
    width: 100%;
    height: 100%;
    min-width: 100%;
    min-height: 100%;
    position: relative;
}

.next-view-header-item {
    @apply rounded-md text-sm px-3 py-1 flex items-center justify-center border border-transparent cursor-default mr-2;
    max-height: 31px;

    & > div:first-child {
        width: 1.5rem;
    }
}

body[data-theme='light'] a.next-view-header-item:hover,
a.next-view-header-item:hover,
.next-view-header-item:hover,
.next-view-header-item.active,
.next-view-header-item.is-open {
    @apply bg-sky-500 text-white shadow-sm cursor-default;
}

body[data-theme='dark'] {
    & .next-view-header-item:hover,
    & .next-view-header-item.active,
    & .next-view-header-item.is-open {
        @apply bg-gray-700 bg-opacity-75 cursor-default;
    }
}

/** Next/Content Panel **/
.next-content-panel-wrapper {
    @apply flex flex-col;

    & .next-content-panel-container {
        @apply flex flex-col;

        & .next-content-panel {
            @apply flex flex-col rounded-md;

            & > .next-content-panel-header {
                @apply flex flex-row items-center justify-between px-4 rounded-t-md border border-gray-200 bg-gray-50;
                min-height: 2.5rem;

                & .next-content-panel-header-left {
                    @apply flex flex-1 items-center;

                    & > .icon-container {
                        @apply w-5;
                    }

                    & > .panel-title {
                        @apply text-base;
                    }

                    & > .next-content-panel-title-container {
                        @apply flex flex-row py-2;
                    }
                }

                & .next-content-panel-header-right {
                    @apply flex flex-1 items-center justify-end;

                    & > .btn-wrapper > .btn {
                        @apply py-1.5 text-xs;
                    }
                }
            }

            &.next-content-panel-is-closed > .next-content-panel-header,
            &.cp-is-closed > .next-content-panel-header {
                @apply rounded-md;
            }

            &.next-content-panel-is-closed > .next-content-panel-body,
            &.cp-is-closed > .next-content-panel-body {
                @apply border-0;
            }

            & > .next-content-panel-body {
                @apply rounded-b-md border border-gray-200 border-t-0;
            }
        }
    }
}

body[data-theme='dark'] {
    & .next-content-panel-wrapper .next-content-panel-container .next-content-panel {
        & > .next-content-panel-header {
            @apply border-gray-700 bg-gray-900;
        }

        & > .next-content-panel-body {
            @apply border-gray-700;
        }
    }
}

/** Next/View Header **/
.next-view-header {
    display: flex;
    box-align: center;
    align-items: center;
    justify-content: space-between;
    padding: 0px 24px 0px 36px;
    height: 57px;
    flex-shrink: 0;
    min-width: 100vw;
    max-width: 100vw;
    -webkit-user-select: none;
    -webkit-app-region: drag;
}

.next-view-header .next-view-header-left {
    flex: 1;
    display: flex;
    box-align: center;
    align-items: center;
    -webkit-user-select: none;
    -webkit-app-region: drag;
}

.next-view-header .next-view-header-right {
    flex: 1;
    display: flex;
    box-align: center;
    align-items: center;
    justify-content: flex-end;
    -webkit-user-select: none;
    -webkit-app-region: drag;
}

.next-view-header #view-header-left-content-a,
.next-view-header #view-header-left-content-b,
.next-view-header #view-header-actions {
    display: flex;
}

.next-view-header .left {
    flex-shrink: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.next-view-header .title {
    font-style: normal;
    line-height: normal;
    text-align: left;
    font-weight: 500;
    font-size: 15px;
}

.next-view-header .title.breadcrumb::before {
    @apply text-gray-400;
    content: 'â–¸';
    margin: 0 0.65rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/** Next/View Container Subheader **/
.next-view-section-subheader {
    @apply flex items-center justify-between min-w-full max-w-full flex-shrink-0 border-b border-gray-200;
    box-align: center;
    padding: 0px 24px 0px 36px;
    height: 57px;
}

.next-view-section-subheader .next-view-section-subheader-title {
    @apply text-base;
}

.next-view-section-subheader .next-view-section-subheader-left {
    flex: 1;
    display: flex;
    box-align: center;
    align-items: center;
}

.next-view-section-subheader .next-view-section-subheader-actions {
    flex: 1;
    display: flex;
    box-align: center;
    align-items: center;
    justify-content: flex-end;
}

.next-view-section-subheader .next-view-section-subheader-actions button.btn {
    padding-top: 0.375rem !important;
    padding-bottom: 0.375rem !important;
}

.next-view-section-subheader .next-view-section-subheader-actions .ember-basic-dropdown-trigger {
    margin: 0;
    padding: 0;
    display: flex;
}

/** Next/Sidebar **/
.next-sidebar {
    height: 100vh;
    /* transition: width 1ms ease-in-out; */
    pointer-events: auto;
    display: flex;
    flex-direction: row;
    min-width: 220px;
    max-width: 330px;
    width: 220px;
    flex-shrink: 0;
    box-sizing: border-box;
    user-select: auto;
}

.next-sidebar > .next-sidebar-content {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
    width: 100%;

    & > .next-sidebar-content-inner {
        @apply px-2 pt-3;
    }
}

.next-content-overlay > .next-content-overlay-panel-container > .next-content-overlay-panel + .gutter,
.next-sidebar > .next-sidebar-content + .gutter,
.next-sidebar > .next-sidebar-content + .gutter {
    width: 10px;
    margin-left: -5px;
    background-image: none;
    background-color: inherit;
    cursor: col-resize;
    border-right: 2px transparent solid;
}

.next-content-overlay > .next-content-overlay-panel-container > .next-content-overlay-panel + .gutter:hover,
.next-sidebar > .next-sidebar-content + .gutter:hover {
    border-right: 2px #76a9fa solid;
}

/** Next/Siderbar Panel **/
.next-sidebar .next-nav-item {
    @apply text-sm flex flex-row items-center px-3 py-0.5 rounded-md mb-1;
}

.next-sidebar .next-nav-item:hover {
    @apply bg-gray-700;
}

.next-sidebar .next-nav-item.active {
    @apply bg-gray-700 bg-opacity-25;
}

.next-sidebar .next-nav-item .next-nav-item-icon-container {
    margin-top: -2px;
    @apply w-5;
}

.next-sidebar .next-nav-item .next-nav-item-icon-container svg {
    @apply text-gray-100;
}

.next-sidebar .next-sidebar-panel-container > .next-sidebar-panel > .next-content-panel > .next-sidebar-panel-toggle {
    @apply flex flex-row items-center justify-between px-3 py-0.5 rounded-md text-sm mb-1 border-0;
    min-height: auto;

    & > .next-content-panel-header-left > .next-content-panel-title-container {
        @apply py-0;
    }
}

.next-sidebar .next-sidebar-panel-container > .next-sidebar-panel > .next-content-panel > .next-sidebar-panel-toggle:hover {
    @apply bg-gray-700;
}

.next-sidebar .next-sidebar-panel-container > .next-sidebar-panel > .next-content-panel > .next-sidebar-panel-toggle > .left {
    @apply flex-1 flex flex-row items-center;

    & > .icon-container {
        @apply w-5 -mt-px;
    }
}

.next-sidebar .next-sidebar-panel-container > .next-sidebar-panel > .next-content-panel > .next-content-panel-body {
    @apply rounded-none border-0 p-0 m-0;
}

.next-sidebar .next-sidebar-panel-container > .next-sidebar-panel > .next-content-panel > .next-content-panel-body .next-nav-item {
    @apply pl-8;
}

/** Next/Org Button **/
.next-org-button-trigger {
    @apply flex flex-row items-center px-3 py-1.5 rounded-md cursor-default truncate;
    max-height: 31px;
}

.next-org-button-trigger:hover,
.next-org-button-trigger.is-open {
    @apply bg-gray-700 bg-opacity-75 cursor-default;
}

.next-org-button-trigger.has-selections {
    @apply bg-blue-500;

    &:hover {
        @apply bg-blue-600;
    }
}

/** Next/User Button **/
.next-user-button-trigger {
    @apply flex flex-row items-center justify-center px-3 py-1.5 rounded-md cursor-default;
    max-height: 31px;
}

.next-user-button-trigger:hover,
.next-user-button-trigger.is-open {
    @apply bg-gray-700 bg-opacity-75 cursor-default;
}

/** Next/Catalog Button Trigger **/
.next-catalog-button-trigger {
    @apply rounded-md px-3 py-1.5 flex items-center justify-center border border-transparent cursor-default;
}

.next-catalog-button-trigger:hover,
.next-catalog-button-trigger.is-open {
    @apply bg-gray-700 bg-opacity-75 cursor-default;
}

.next-catalog-menu {
    @apply mt-2 border border-transparent bg-gray-800 overflow-hidden shadow-next-nav;
    border-radius: 5px;
    width: 500px;
    max-width: 100vw;
    max-height: calc(100vh - 130px);
}

.next-catalog-menu .next-catalog-item {
    @apply text-sm flex flex-row items-center px-3 py-1 rounded-md mb-1;
}

.next-catalog-menu .next-catalog-item:hover {
    @apply bg-gray-700;
}

/** Next/Standard Dropdown Menu **/
.next-dd-menu {
    @apply mt-2 border border-transparent bg-gray-800 overflow-hidden pb-1 shadow-next-nav;
    border-radius: 5px;
    width: 250px;
    z-index: 600;
    max-width: 100vw;
    max-height: calc(100vh - 130px);
    padding: 0;
}

.next-dd-menu .next-dd-item {
    @apply text-sm flex flex-row items-center px-3 py-0.5 rounded-md my-1;
}

.next-dd-menu .next-dd-title {
    @apply text-sm flex flex-row items-center px-3 py-0.5 rounded-md my-1 text-gray-800;
}

.next-dd-menu .next-dd-session-user-wrapper {
    @apply pt-3 pb-1;
}

body[data-theme='dark'] {
    & .next-dd-menu .next-dd-title {
        @apply text-gray-300;
    }
}

.cell-dropdown-button .next-dd-menu .next-dd-item {
    @apply py-1;
}

.next-dd-menu .next-dd-item.active.ember-basic-dropdown-trigger,
.next-dd-menu .next-dd-item.ember-basic-dropdown-trigger:hover,
.next-dd-menu .next-dd-item.active,
.next-dd-menu .next-dd-item:hover {
    @apply bg-blue-500 text-white;
}

.next-dd-menu-seperator {
    @apply flex h-px my-2 bg-gray-700;
}

/** Next/View Section **/
section.next-view-section {
    width: 100%;
}

/** Next/View Table/Pagination **/
.next-pagination-row {
    @apply bg-white border-t border-gray-200 m-0 p-0;
}

/** Next/Table Wrapper **/
.next-table-wrapper {
    overflow: scroll;
    height: 100vh;
    @apply inline-block w-full min-w-full align-middle;

    & > table {
        @apply table-fixed w-full h-screen;
        border-collapse: separate;
        border-spacing: 0;
    }

    & table > tbody:after {
        content: '';
        display: block;
        height: 153px;
        width: 100%;
    }

    & table > thead {
        position: sticky;
        inset-block-start: 0;
        z-index: 12;
    }

    & table thead th {
        position: sticky;
        top: 0;
        z-index: 16;
    }

    & table > tfoot {
        position: sticky;
        bottom: 53px;
        min-width: 100%;
        width: 100%;
        background-color: black;
    }

    & table tfoot tr {
        position: sticky;
        bottom: 0;
    }
}

.next-table-wrapper .tfoot-row {
    @apply bg-white dark:bg-gray-800 border-0 m-0 p-0;
}

.next-table-wrapper .tfoot-row > td {
    @apply border-t border-gray-200 dark:border-gray-700;
}

body[data-theme='dark'] .next-table-wrapper .tfoot-row > td {
    @apply border-gray-700;
}

.next-table-wrapper .tfoot-column {
    margin: 0px;
    width: 100%;
    min-width: 100%;
    padding: 0px;
}

.next-table-wrapper .tfoot-wrapper {
    padding: 0px 24px 0px 36px;
    height: 53px;
    min-width: 100%;
    max-width: 100%;
    @apply flex flex-1 flex-row items-center justify-between flex-shrink-0;
}

.next-table-wrapper .lt-body-wrap > .lt-scrollable .tse-scroll-content .tse-content table {
    margin-bottom: 170px;
}

.next-table-wrapper.with-pagination .lt-foot-wrap {
    @apply fixed bottom-0;
}

.next-table-wrapper table thead tr th {
    @apply px-4 py-2 text-xs text-left font-medium leading-4 tracking-wider text-gray-900 whitespace-nowrap uppercase border-b border-gray-200 bg-white;
    text-overflow: ellipsis;
    cursor: default !important;

    &.lt-column.is-draggable,
    &.lt-column.is-sortable {
        @apply cursor-default;
    }

    &.is-resizing,
    &:hover {
        @apply text-gray-500;
    }
}

.next-table-wrapper table tbody tr:hover td {
    @apply text-gray-400;

    & span a,
    & a {
        @apply text-gray-400;
    }
}

@media (max-width: 767px) {
    .next-table-wrapper table tbody tr:hover td {
        @apply text-gray-800;

        & span a,
        & a {
            @apply text-gray-800;
        }
    }
}

.next-table-wrapper table tfoot tr td,
.next-table-wrapper table tbody tr td {
    @apply px-4 py-1 text-sm font-medium leading-4 tracking-wider text-gray-800 truncate whitespace-nowrap select-none border-b border-gray-200;

    & span a,
    & a {
        @apply text-gray-800;
    }

    &.overflow-visible {
        overflow: visible !important;
    }
}

.next-table-wrapper > table > tbody > tr:last-child > td {
    border-bottom: 0;
}

.next-table-wrapper > table > tbody > tr:first-child > td {
    border-top: 0;
}

body[data-theme='dark'] .next-table-wrapper table tfoot tr td {
    @apply bg-gray-900;
}

body[data-theme='light'] .next-table-wrapper table tfoot tr td {
    @apply bg-white;
}

.next-pagination-row .next-pagination-column {
    @apply p-0 m-0 w-full min-w-full;
}

.next-pagination-row .next-pagination-column .next-pagination-wrapper {
    display: flex;
    box-align: center;
    align-items: center;
    justify-content: space-between;
    padding: 0px 24px 0px 36px;
    height: 57px;
    flex-shrink: 0;
    min-width: 100%;
    max-width: 100%;
}

.next-pagination-row .next-pagination-column .next-pagination-wrapper > .fleetbase-pagination {
    width: 100%;
    margin: 0;
    padding: 0;
}

.next-pagination-row .next-pagination-column .next-pagination-wrapper > .fleetbase-pagination .page-item,
.next-pagination-row .next-pagination-column .next-pagination-wrapper > .fleetbase-pagination .page-item-arrow,
.next-pagination-row .next-pagination-column .next-pagination-wrapper > .fleetbase-pagination .direction-button {
    padding-top: 0.275rem;
    padding-bottom: 0.275rem;
}

/** Next/Driver Chat Panel **/
.next-driver-chat-panel {
    @apply flex flex-col rounded-lg shadow-next-nav w-80 bg-gray-50;

    & .driver-chat-panel-header {
        @apply flex flex-row rounded-t-lg items-start justify-between px-4 py-2 bg-gray-50 border-b border-gray-200 text-gray-900;

        & .driver-chat-panel-actions a,
        & .driver-chat-panel-actions a svg {
            @apply text-gray-400;

            &:hover {
                @apply text-gray-300;
            }
        }
    }

    & .driver-chat-panel-body {
        @apply flex flex-col px-4 py-2 bg-gray-100;
        min-height: 12rem;
    }

    & .driver-chat-panel-footer {
        @apply flex items-center rounded-b-lg bg-gray-50 px-4 py-2;

        & textarea {
            @apply bg-gray-50 w-full text-gray-900;
        }
    }
}

/** Next/ Field Info Container **/
.field-info-container {
    @apply pb-2 text-sm;

    & > .field-name {
        @apply font-semibold text-gray-800;
    }

    & > .field-value {
        @apply text-gray-700;
    }
}

body[data-theme='dark'] {
    & .field-info-container {
        & > .field-name {
            @apply text-gray-100;
        }

        & > .field-value {
            @apply text-gray-50;
        }
    }
}

/* .field-info-containers-darker .field-info-container {
    @apply bg-gray-900;
} */

body[data-theme='dark'] {
    /** Next/Driver Chat Panel **/
    & .next-driver-chat-panel {
        @apply bg-gray-900;

        & .driver-chat-panel-header {
            @apply bg-gray-900 border-gray-900 text-gray-50;
        }

        & .driver-chat-panel-body {
            @apply bg-gray-700 shadow-overlay-inner;
        }

        & .driver-chat-panel-footer {
            @apply bg-gray-900;

            & textarea {
                @apply bg-gray-900 text-gray-50;
            }
        }
    }

    /** Next/Leaflet Context Menu Dark **/
    & .next-leaflet-container-map > .leaflet-contextmenu {
        @apply bg-gray-800 shadow-next-nav;

        & > .leaflet-contextmenu-separator {
            @apply border-gray-700;
        }

        & > .leaflet-contextmenu-item {
            @apply text-xs flex flex-row items-center px-3 py-0.5 rounded-md my-1 mx-1 border-none text-gray-50;

            &.active,
            &:hover {
                @apply bg-gray-700;
            }
        }
    }

    /** Next/View Table/Pagination - Dark **/
    & .next-pagination-row {
        @apply bg-gray-900 border-t border-gray-700;
    }

    & .next-table-wrapper table thead tr th {
        @apply bg-gray-900 border-gray-700 text-gray-500;

        &.is-resizing,
        &:hover {
            @apply border-gray-700 text-gray-100;
        }
    }

    & .next-table-wrapper table tbody tr td {
        @apply text-gray-400 bg-gray-900 border-b border-gray-700;

        & span a,
        & a {
            @apply text-gray-400;
        }
    }

    & .next-table-wrapper table tbody tr:hover td {
        @apply text-gray-100;

        & span a,
        & a {
            @apply text-gray-100;
        }
    }

    /** Next/Sidebar - Dark **/
    & .next-sidebar {
        @apply bg-gray-900 border-r border-gray-700;
    }

    /** Next/Siderbar Panel **/
    & .next-sidebar .next-sidebar-panel-container > .next-sidebar-panel > .next-sidebar-panel-toggle.next-content-panel-is-open .title {
        @apply text-white;
    }

    & .next-sidebar .next-sidebar-panel-container > .next-sidebar-panel > .next-sidebar-panel-toggle > .left > .icon-container svg {
        @apply text-gray-400;
    }

    /** Next/View Container - Dark **/
    & .next-view-container {
        @apply bg-gray-900;
    }

    /** Next/View Header - Dark **/
    & .next-view-header {
        @apply bg-gray-900 border-b border-gray-700;
    }

    /** Next/View Container Subheader - Dark **/
    & .next-content-overlay-panel-header,
    & .next-view-section-subheader {
        @apply border-b border-gray-700;
    }
}

/** 
 * Next/Sidebar - Light
 * Next/Siderbar Panel - Light
 * Next/View Container - Light
 * Next/View Header - Light
 * Next/Menus - Light
 */
body[data-theme='light'] {
    & .next-sidebar {
        @apply bg-gray-50 border-r border-gray-200;
    }

    & .next-sidebar .next-nav-item:hover .next-nav-item-icon-container svg {
        @apply text-white;
    }

    & .next-sidebar .next-nav-item .next-nav-item-icon-container svg {
        @apply text-gray-900;
    }

    & .next-sidebar .next-sidebar-panel-container > .next-sidebar-panel > .next-sidebar-panel-toggle.next-content-panel-is-open .title {
        @apply text-gray-700;
    }

    & .next-sidebar .next-sidebar-panel-container > .next-sidebar-panel > .next-sidebar-panel-toggle > .left > .icon-container svg {
        @apply text-gray-700;
    }

    & .next-sidebar .next-sidebar-panel-container > .next-sidebar-panel > .next-sidebar-panel-toggle:hover {
        @apply bg-gray-100;
    }

    & .next-view-container {
        @apply bg-gray-50;
    }

    & .next-view-header {
        @apply bg-gray-50 border-b border-gray-200;
    }

    & .next-catalog-menu,
    & .next-dd-menu {
        @apply bg-gray-50;
    }

    & .next-catalog-button-trigger:hover,
    & .next-catalog-button-trigger.is-open,
    & .next-org-button-trigger:hover,
    & .next-org-button-trigger.is-open,
    & .next-user-button-trigger:hover,
    & .next-user-button-trigger.is-open {
        @apply bg-gray-200;
    }

    & .next-dd-menu-seperator {
        @apply bg-gray-200;
    }
}

/** Next/Utils **/
.h-57px {
    height: 57px;
}

a.text-danger {
    @apply text-red-500;

    &:active,
    &:hover {
        @apply text-red-400;
    }
}

.storefront-order-actions {
    overflow: visible;

    & > .btn-wrapper > .btn {
        @apply py-0.5;
    }
}
